include "minlib.oxy";

struct Point {
    int x;
    int y;
    char* happy;
};

fn factorial(int n) -> int {
    if (n <= 1) {
        ret 1;
    }
    ret n * factorial(n-1);
}

fn wrapper(char* str) -> void {
    print(str);
    print("\n");
    int n = 5;
    while (1) {
        n += 1;
        if (n >= 5) {
            break;
        }
        continue;
    }
    print("done loop\n");
}

fn test(float a) -> float {
    ret 2 * a;
}

fn main() -> int {
    int n = atoi("15");
    print("String converted to integer\n");
    int result = factorial(5);
    print("Factorial computed\n");
    result++;

    Point p;
    p.x = 10;
    p.y = 20;
    p.happy = "yes!";
    print("p.x is: ");
    print(p.x);
    print("\n");
    print(p.happy);
    print("\n");

    int x = 10 % 3;
    print("Modulo computed\n");
    x = -x;
    print("Negation computed\n");
    x = -x;

    print(5);
    print("\n");
    float ay = test(6.7);
    if (ay < 20) {
        print("Boo hoo!\n");
    } else {
        print("E?\n");
    }
    print(3.67267);
    print("\n");

    ret n;
}